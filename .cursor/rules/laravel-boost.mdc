---
alwaysApply: true
---
<laravel-boost-guidelines>
=== foundation rules ===

# Panduan Laravel Boost

Panduan Laravel Boost disusun khusus oleh pemelihara Laravel untuk aplikasi ini. Ikuti pedoman ini dengan seksama untuk meningkatkan konsistensi dan kualitas pengembangan aplikasi Laravel.

## Konteks Dasar
Aplikasi ini adalah aplikasi Laravel; paket utama ekosistem dan versinya tercantum di bawah. Pastikan mematuhi versi paket yang disebutkan.

- php - 8.2.12
- inertiajs/inertia-laravel (INERTIA) - v2
- laravel/fortify (FORTIFY) - v1
- laravel/framework (LARAVEL) - v12
- laravel/prompts (PROMPTS) - v0
- laravel/wayfinder (WAYFINDER) - v0
- laravel/mcp (MCP) - v0
- laravel/pint (PINT) - v1
- laravel/sail (SAIL) - v1
- pestphp/pest (PEST) - v3
- phpunit/phpunit (PHPUNIT) - v11
- @inertiajs/react (INERTIA) - v2
- react (REACT) - v19
- tailwindcss (TAILWINDCSS) - v4
- @laravel/vite-plugin-wayfinder (WAYFINDER) - v0
- eslint (ESLINT) - v9
- prettier (PRETTIER) - v3

## Konvensi
- Ikuti semua konvensi kode yang sudah ada dalam aplikasi. Saat membuat atau mengubah file, periksa file sejenis untuk struktur, pendekatan, dan penamaan yang konsisten.
- Gunakan nama variabel dan metode yang deskriptif. Contoh: `isRegisteredForDiscounts`, bukan `discount()`.
- Periksa komponen yang sudah ada sebelum membuat ulang komponen baru.

## Skrip Verifikasi
- Jangan membuat skrip verifikasi atau menggunakan tinker jika pengujian unit/fitur sudah mencakup fungsi tersebut. Tes unit dan fitur lebih penting.

## Struktur Aplikasi & Arsitektur
- Tetap gunakan struktur direktori yang ada — jangan membuat folder dasar baru tanpa persetujuan.
- Jangan ubah dependensi aplikasi tanpa persetujuan.

## Bundling Frontend
- Jika perubahan frontend tidak terlihat di UI, kemungkinan perlu menjalankan `npm run build`, `npm run dev`, atau `composer run dev`. Tanyakan kepada pengguna jika perlu.

## Balasan
- Jawab secara singkat dan fokus pada hal penting; hindari menjelaskan detail yang jelas.

## Berkas Dokumentasi
- Buat berkas dokumentasi hanya bila diminta secara eksplisit.


=== boost rules ===

## Laravel Boost
- Laravel Boost adalah server MCP yang menyediakan alat khusus untuk aplikasi ini. Gunakan alat tersebut bila relevan.

## Artisan
- Gunakan alat `list-artisan-commands` saat perlu memeriksa parameter perintah Artisan.

## URL
- Saat membagikan URL proyek, gunakan alat `get-absolute-url` untuk memastikan skema, domain/IP, dan port benar.

## Tinker / Debugging
- Gunakan alat `tinker` untuk mengeksekusi PHP saat perlu men-debug atau melakukan query Eloquent.
- Gunakan `database-query` jika hanya perlu membaca data dari database.

## Membaca Log Browser dengan Alat `browser-logs`
- Anda dapat membaca log browser, error, dan exception menggunakan alat `browser-logs` dari Boost.
- Hanya log browser terbaru yang relevan — abaikan log lama.

## Pencarian Dokumentasi (Sangat Penting)
- Gunakan alat `search-docs` sebelum pendekatan lain. Alat ini mengirim daftar paket beserta versinya sehingga mengembalikan dokumentasi yang sesuai versi.
- `search-docs` sangat berguna untuk paket ekosistem Laravel seperti Laravel, Inertia, Livewire, Filament, Tailwind, Pest, dll.
- Selalu cari dokumentasi sebelum mengubah kode.
- Mulai dengan kueri topik yang luas dan sederhana, mis. `['rate limiting', 'routing rate limiting', 'routing']`.
- Jangan menambahkan nama paket ke kueri — informasi paket sudah otomatis dikirim.

### Sintaks Pencarian yang Tersedia
- Anda bisa mengirim beberapa kueri sekaligus; hasil paling relevan dikembalikan terlebih dahulu.

1. Pencarian kata sederhana dengan auto-stemming - `query=authentication` — menemukan 'authenticate' dan 'auth'.
2. Beberapa kata (logika AND) - `query=rate limit` — menemukan konten yang mengandung kedua kata.
3. Frasa dalam tanda kutip (posisi tepat) - `query="infinite scroll"` — kata harus berurutan.
4. Kueri campuran - `query=middleware "rate limit"` — kata `middleware` DAN frasa tepat `rate limit`.
5. Banyak kueri - `queries=["authentication","middleware"]` — mencocokkan salah satu istilah.


=== php rules ===

## PHP

- Selalu gunakan kurung kurawal untuk struktur kontrol, meskipun hanya satu baris.

### Konstruktor
- Gunakan PHP 8 constructor property promotion di `__construct()`.
    - <code-snippet>public function __construct(public GitHub $github) { }</code-snippet>
- Jangan buat `__construct()` kosong tanpa parameter.

### Deklarasi Tipe
- Selalu gunakan deklarasi tipe return yang eksplisit untuk metode dan fungsi.
- Gunakan type hint yang sesuai untuk parameter metode.

<code-snippet name="Explicit Return Types and Method Params" lang="php">
protected function isAccessible(User $user, ?string $path = null): bool
{
    ...
}
</code-snippet>

## Komentar
- Utamakan blok PHPDoc daripada komentar baris; hindari komentar di kode kecuali jika sangat diperlukan.

## Blok PHPDoc
- Tambahkan definisi bentuk array yang berguna untuk array saat relevan.

## Enums
- Kunci dalam Enum sebaiknya menggunakan TitleCase, mis. `FavoritePerson`, `BestLake`, `Monthly`.


=== tests rules ===

## Penegakan Tes

- Setiap perubahan harus diuji secara programatik. Tambahkan atau perbarui tes, lalu jalankan tes terkait.
- Jalankan minimal jumlah tes yang diperlukan untuk kecepatan dan kualitas; gunakan `php artisan test` dengan file atau filter yang sesuai.


=== inertia-laravel/core rules ===

## Inertia Core

- Komponen Inertia.js diletakkan di `resources/js/Pages` kecuali konfigurasi bundler berbeda.
- Gunakan `Inertia::render()` untuk routing server-side ketimbang view Blade tradisional.
- Gunakan `search-docs` untuk panduan Inertia.

<code-snippet lang="php" name="Inertia::render Example">
// routes/web.php example
Route::get('/users', function () {
    return Inertia::render('Users/Index', [
        /* Contoh data */
    ]);
});
</code-snippet>


=== inertia-laravel/v2 rules ===

## Inertia v2

- Manfaatkan fitur Inertia versi 1 & 2. Periksa dokumentasi sebelum membuat perubahan.

### Fitur Baru Inertia v2
- Polling
- Prefetching
- Deferred props
- Infinite scrolling dengan penggabungan props dan `WhenVisible`
- Lazy loading data saat scroll

### Deferred Props & Empty States
- Saat menggunakan deferred props, tambahkan empty state yang bagus (mis. skeleton animasi).

### Panduan Umum Form Inertia
- Cara yang direkomendasikan untuk membangun form adalah menggunakan komponen `<Form>`.
- Alternatif: gunakan helper `useForm` untuk kontrol yang lebih programatik.
- Opsi seperti `resetOnError`, `resetOnSuccess`, dan `setDefaultsOnSuccess` tersedia pada `<Form>`.


=== laravel/core rules ===

## Ikuti Cara Laravel

- Gunakan perintah `php artisan make:` untuk membuat file (migrasi, controller, model, dll.).
- Untuk kelas PHP generik, gunakan `php artisan make:class`.
- Sertakan `--no-interaction` pada perintah Artisan untuk memastikan berjalan tanpa input pengguna.

### Database
- Gunakan metode relasi Eloquent dengan tipe return yang jelas. Utamakan relasi Eloquent daripada query mentah.
- Hindari `DB::`; gunakan `Model::query()` ketika memungkinkan.
- Hindari masalah N+1 dengan eager loading.

### Pembuatan Model
- Saat membuat model baru, buat juga factory dan seeder yang berguna.

### API & Eloquent Resources
- Untuk API, gunakan Eloquent API Resources dan versioning bila konvensi proyek belum berbeda.

### Controller & Validasi
- Selalu buat Form Request untuk validasi, sertakan aturan validasi dan pesan kustom.

### Queue
- Gunakan job yang menerapkan `ShouldQueue` untuk operasi berat.

### Otentikasi & Otorisasi
- Gunakan fitur otentikasi bawaan Laravel (gates, policies, Sanctum, dsb.).

### Pembuatan URL
- Gunakan route bernama dan helper `route()` saat membuat tautan.

### Konfigurasi
- Gunakan variabel lingkungan hanya dalam file konfigurasi — jangan pakai `env()` langsung di kode.

### Pengujian
- Gunakan factory saat membuat model untuk tes.
- Untuk faker, gunakan `$this->faker->word()` atau `fake()->randomDigit()` sesuai konvensi proyek.

### Error Vite
- Jika muncul error Vite manifest, jalankan `npm run build` atau minta pengguna menjalankan `npm run dev` / `composer run dev`.


=== laravel/v12 rules ===

## Laravel 12

- Gunakan `search-docs` untuk dokumentasi versi-spesifik.
- Sejak Laravel 11 terdapat struktur file yang lebih ringkas yang digunakan proyek ini.

### Struktur Laravel 12
- Tidak ada file middleware di `app/Http/Middleware/`.
- `bootstrap/app.php` untuk mendaftarkan middleware, exception, dan file routing.
- `bootstrap/providers.php` berisi service provider aplikasi.
- **Tidak ada app\Console\Kernel.php** - gunakan `bootstrap/app.php` atau `routes/console.php`.
- **Command auto-registrasi** - file di `app/Console/Commands/` otomatis terdaftar.

### Database
- Saat mengubah kolom, sertakan seluruh atribut sebelumnya untuk mencegah kehilangan pengaturan kolom.

### Model
- Casts sebaiknya diletakkan pada metode `casts()` alih-alih properti `$casts` jika mengikuti konvensi proyek.


=== wayfinder/core rules ===

## Laravel Wayfinder

- Wayfinder menghasilkan fungsi dan tipe TypeScript untuk controller dan route Laravel yang bisa diimpor ke kode frontend.

### Panduan Pengembangan
- Gunakan `search-docs` untuk memeriksa penggunaan Wayfinder sebelum implementasi.
- Prefer named imports untuk tree-shaking.
- Hindari import default controller untuk menjaga tree-shaking.
- Jalankan `php artisan wayfinder:generate` setelah perubahan route jika plugin Vite tidak terpasang.

### Ikhtisar Fitur
- Form Support: Gunakan `.form()` dengan flag `--with-form` untuk atribut form HTML.
- HTTP Methods: Gunakan `.get()`, `.post()`, `.patch()`, `.put()`, `.delete()` untuk metode spesifik.
- Invokable Controllers: Impor dan panggil langsung sebagai fungsi.
- Named Routes: Impor dari `@/routes/` untuk route bernama.
- Parameter Binding: Mendeteksi kunci route seperti `{post:slug}`.
- Query Merging: Gunakan `mergeQuery` untuk menggabungkan query string.
- Query Parameters: Lewatkan `{ query: {...} }` untuk menambahkan param.
- Route Objects: Fungsi mengembalikan objek `{ url, method }`.

### Wayfinder + Inertia
Jika aplikasi menggunakan komponen `<Form>` dari Inertia, Wayfinder dapat menghasilkan action dan method form secara otomatis.
<code-snippet name="Wayfinder Form Component (React)" lang="typescript">

<Form {...store.form()}><input name="title" /></Form>

</code-snippet>


=== pint/core rules ===

## Laravel Pint Code Formatter

- Jalankan `vendor/bin/pint --dirty` sebelum menyelesaikan perubahan agar sesuai gaya kode proyek.
- Jangan jalankan `vendor/bin/pint --test`; jalankan `vendor/bin/pint` untuk memperbaiki formatting.


=== pest/core rules ===

## Pest
### Pengujian
- Jika perlu memverifikasi fitur, buat atau perbarui tes Unit/Fitur.

### Tes Pest
- Semua tes harus menggunakan Pest. Gunakan `php artisan make:test --pest {name}`.
- Jangan hapus file tes tanpa persetujuan.
- Tes harus mencakup jalur sukses, gagal, dan kasus tepi.
- Tes berada di `tests/Feature` dan `tests/Unit`.

<code-snippet name="Basic Pest Test Example" lang="php">
it('is true', function () {
    expect(true)->toBeTrue();
});
</code-snippet>

### Menjalankan Tes
- Jalankan jumlah tes minimal yang relevan setelah perubahan.
- Semua tes: `php artisan test`.
- Tes file tertentu: `php artisan test tests/Feature/ExampleTest.php`.
- Filter berdasarkan nama tes: `php artisan test --filter=testName`.

### Assertion Pest
- Untuk status kode gunakan assertion spesifik seperti `assertForbidden`, `assertNotFound`.

### Mocking
- Mocking berguna saat diperlukan; gunakan `Pest\Laravel\mock` atau `$this->mock()` sesuai konvensi.

### Datasets
- Gunakan dataset untuk mengurangi duplikasi data dalam tes.

<code-snippet name="Pest Dataset Example" lang="php">
it('has emails', function (string $email) {
    expect($email)->not->toBeEmpty();
})->with([
    'james' => 'james@laravel.com',
    'taylor' => 'taylor@laravel.com',
]);
</code-snippet>


=== inertia-react/core rules ===

## Inertia + React

- Gunakan `router.visit()` atau `<Link>` untuk navigasi daripada link HTML biasa.

<code-snippet name="Inertia Client Navigation" lang="react">

import { Link } from '@inertiajs/react'
<Link href="/">Home</Link>

</code-snippet>


=== inertia-react/v2/forms rules ===

## Inertia + React Forms

<code-snippet name="`<Form>` Component Example" lang="react">

import { Form } from '@inertiajs/react'

export default () => (
    <Form action="/users" method="post">
        {({
            errors,
            hasErrors,
            processing,
            wasSuccessful,
            recentlySuccessful,
            clearErrors,
            resetAndClearErrors,
            defaults
        }) => (
        <>
        <input type="text" name="name" />

        {errors.name && <div>{errors.name}</div>}

        <button type="submit" disabled={processing}>
            {processing ? 'Creating...' : 'Create User'}
        </button>

        {wasSuccessful && <div>User created successfully!</div>}
        </>
    )}
    </Form>
)

</code-snippet>


=== tailwindcss/core rules ===

## Tailwind Core

- Gunakan kelas Tailwind untuk styling; periksa pola yang sudah ada sebelum membuat yang baru.
- Pertimbangkan mengekstrak pola berulang menjadi komponen.
- Pikirkan penempatan kelas, urutan, dan prioritas untuk mengurangi pengulangan.

### Spacing
- Saat membuat daftar, gunakan utilitas gap daripada margin.

    <code-snippet name="Valid Flex Gap Spacing Example" lang="html">
        <div class="flex gap-8">
            <div>Superior</div>
            <div>Michigan</div>
            <div>Erie</div>
        </div>
    </code-snippet>

### Dark Mode
- Jika halaman/komponen mendukung dark mode, fitur baru harus konsisten menggunakan `dark:`.


=== tailwindcss/v4 rules ===

## Tailwind 4

- Gunakan Tailwind CSS v4 — jangan gunakan utilitas yang sudah usang.
- `corePlugins` tidak didukung di Tailwind v4.
- Konfigurasi berfokus pada CSS menggunakan direktif `@theme`.

<code-snippet name="Extending Theme in CSS" lang="css">
@theme {
  --color-brand: oklch(0.72 0.11 178);
}
</code-snippet>

- Di Tailwind v4, impor Tailwind menggunakan `@import "tailwindcss";` bukan direktif `@tailwind`.

<code-snippet name="Tailwind v4 Import Tailwind Diff" lang="diff">
   - @tailwind base;
   - @tailwind components;
   - @tailwind utilities;
   + @import "tailwindcss";
</code-snippet>

### Utilitas Pengganti
- Tailwind v4 menghapus utilitas lama; gunakan pengganti yang sesuai.

| Deprecated | Replacement |
|------------+--------------|
| bg-opacity-* | bg-black/* |
| text-opacity-* | text-black/* |
| border-opacity-* | border-black/* |
| divide-opacity-* | divide-black/* |
| ring-opacity-* | ring-black/* |
| placeholder-opacity-* | placeholder-black/* |
| flex-shrink-* | shrink-* |
| flex-grow-* | grow-* |
| overflow-ellipsis | text-ellipsis |
| decoration-slice | box-decoration-slice |
| decoration-clone | box-decoration-clone |
</laravel-boost-guidelines>
